# Path Abuse

```text
Adding . to a user's PATH adds their current working directory to the list. For example, if we can modify a user's path, we could replace a common binary such as ls with a malicious script such as a reverse shell. If we add . to the path by issuing the command PATH=.:$PATH and then export PATH, we will be able to run binaries located in our current working directory by just typing the name of the file (i.e. just typing ls will call the malicious script named ls in the current working directory instead of the binary located at /bin/ls).
``` 

```bash
env | grep PATH  # Check the PATH var contents
echo $PATH # Check the PATH var contents
```

```bash
haunter@OPFOR:~$ echo $PATH
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games

haunter@OPFOR:~$ PATH=.:${PATH}
haunter@OPFOR:~$ export PATH
haunter@OPFOR:~$ echo $PATH

.:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games

In this example, we modify the path to run a simple echo command when the command ls is typed.

haunter@OPFOR:~$ touch ls
haunter@OPFOR:~$ echo 'echo "PATH ABUSE!!"' > ls
haunter@OPFOR:~$ chmod +x ls

haunter@OPFOR:~$ ls

PATH ABUSE!!
```